{"ast":null,"code":"var _jsxFileName = \"/Users/francescociano/Desktop/Coding/Burotha/Projects/LandingPage/lending_page_marco_nitto/landing-page-mn/src/components/ClickSparks/ClickSparks.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClickSpark = ({\n  sparkColor = \"#fff\",\n  sparkSize = 10,\n  sparkRadius = 15,\n  sparkCount = 8,\n  duration = 400,\n  easing = \"ease-out\",\n  extraScale = 1.0\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const sparksRef = useRef([]); // Stores spark data\n  const startTimeRef = useRef(null); // Tracks initial timestamp for animation\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const parent = canvas.parentElement;\n    if (!parent) return;\n    let resizeTimeout;\n    const resizeCanvas = () => {\n      const {\n        width,\n        height\n      } = parent.getBoundingClientRect();\n      if (canvas.width !== width || canvas.height !== height) {\n        canvas.width = width;\n        canvas.height = height;\n      }\n    };\n    const handleResize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(resizeCanvas, 100); // Debounce by 100ms\n    };\n\n    // Observe size changes\n    const ro = new ResizeObserver(resizeCanvas);\n    ro.observe(parent);\n\n    // Initial sizing\n    resizeCanvas();\n\n    // Cleanup\n    return () => {\n      ro.disconnect();\n      clearTimeout(resizeTimeout);\n    };\n  }, []);\n  const easeFunc = useCallback(t => {\n    switch (easing) {\n      case \"linear\":\n        return t;\n      case \"ease-in\":\n        return t * t;\n      case \"ease-in-out\":\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n      default:\n        return t * (2 - t);\n    }\n  }, [easing]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    let animationId;\n    const draw = timestamp => {\n      if (!startTimeRef.current) {\n        startTimeRef.current = timestamp; // store initial time\n      }\n      ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, canvas.width, canvas.height);\n      sparksRef.current = sparksRef.current.filter(spark => {\n        const elapsed = timestamp - spark.startTime;\n        if (elapsed >= duration) {\n          // Spark finished its animation\n          return false;\n        }\n        const progress = elapsed / duration;\n        const eased = easeFunc(progress);\n        const distance = eased * sparkRadius * extraScale;\n        const lineLength = sparkSize * (1 - eased);\n\n        // Points for the spark line\n        const x1 = spark.x + distance * Math.cos(spark.angle);\n        const y1 = spark.y + distance * Math.sin(spark.angle);\n        const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n        const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n\n        // Draw the spark line\n        ctx.strokeStyle = sparkColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        return true;\n      });\n      animationId = requestAnimationFrame(draw);\n    };\n    animationId = requestAnimationFrame(draw);\n    return () => {\n      cancelAnimationFrame(animationId);\n    };\n  }, [sparkColor, sparkSize, sparkRadius, sparkCount, duration, easing, extraScale]);\n  const handleClick = e => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const now = performance.now();\n    const newSparks = Array.from({\n      length: sparkCount\n    }, (_, i) => ({\n      x,\n      y,\n      angle: 2 * Math.PI * i / sparkCount,\n      startTime: now\n    }));\n    sparksRef.current.push(...newSparks);\n  };\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      display: \"block\",\n      userSelect: \"none\"\n    },\n    onClick: handleClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 9\n  }, this);\n};\n_s(ClickSpark, \"Co5ZLok9jWEvDtYfE8EPujoRllo=\");\n_c = ClickSpark;\nexport default ClickSpark;\nvar _c;\n$RefreshReg$(_c, \"ClickSpark\");","map":{"version":3,"names":["useRef","useEffect","useCallback","jsxDEV","_jsxDEV","ClickSpark","sparkColor","sparkSize","sparkRadius","sparkCount","duration","easing","extraScale","_s","canvasRef","sparksRef","startTimeRef","canvas","current","parent","parentElement","resizeTimeout","resizeCanvas","width","height","getBoundingClientRect","handleResize","clearTimeout","setTimeout","ro","ResizeObserver","observe","disconnect","easeFunc","t","ctx","getContext","animationId","draw","timestamp","clearRect","filter","spark","elapsed","startTime","progress","eased","distance","lineLength","x1","x","Math","cos","angle","y1","y","sin","x2","y2","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","handleClick","e","rect","clientX","left","clientY","top","now","performance","newSparks","Array","from","length","_","i","PI","push","ref","style","display","userSelect","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/francescociano/Desktop/Coding/Burotha/Projects/LandingPage/lending_page_marco_nitto/landing-page-mn/src/components/ClickSparks/ClickSparks.tsx"],"sourcesContent":["import {useRef, useEffect, useCallback} from \"react\";\n\ninterface ClickSparkProps {\n    sparkColor?: string;\n    sparkSize?: number;\n    sparkRadius?: number;\n    sparkCount?: number;\n    duration?: number;\n    easing?: \"linear\" | \"ease-in\" | \"ease-out\" | \"ease-in-out\";\n    extraScale?: number;\n}\n\ninterface Spark {\n    x: number;\n    y: number;\n    angle: number;\n    startTime: number;\n}\n\nconst ClickSpark: React.FC<ClickSparkProps> = ({\n    sparkColor = \"#fff\",\n    sparkSize = 10,\n    sparkRadius = 15,\n    sparkCount = 8,\n    duration = 400,\n    easing = \"ease-out\",\n    extraScale = 1.0,\n}) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const sparksRef = useRef<Spark[]>([]); // Stores spark data\n    const startTimeRef = useRef<number | null>(null); // Tracks initial timestamp for animation\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n\n        const parent = canvas.parentElement;\n        if (!parent) return;\n\n        let resizeTimeout : NodeJS.Timeout;\n\n        const resizeCanvas = () => {\n            const { width, height } = parent.getBoundingClientRect();\n            if (canvas.width !== width || canvas.height !== height) {\n                canvas.width = width;\n                canvas.height = height;\n            }\n        };\n\n        const handleResize = () => {\n            clearTimeout(resizeTimeout);\n            resizeTimeout = setTimeout(resizeCanvas, 100); // Debounce by 100ms\n        };\n\n        // Observe size changes\n        const ro = new ResizeObserver(resizeCanvas);\n        ro.observe(parent);\n\n        // Initial sizing\n        resizeCanvas();\n\n        // Cleanup\n        return () => {\n            ro.disconnect();\n            clearTimeout(resizeTimeout);\n        };\n    }, []);\n\n\n    const easeFunc = useCallback(\n        (t: number) => {\n            switch (easing) {\n                case \"linear\":\n                    return t;\n                case \"ease-in\":\n                    return t * t;\n                case \"ease-in-out\":\n                    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n                default:\n                    return t * (2 - t);\n            }\n        },\n        [easing]\n    );\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n\n        let animationId: number;\n\n        const draw = (timestamp: number) => {\n            if (!startTimeRef.current) {\n                startTimeRef.current = timestamp; // store initial time\n            }\n            ctx?.clearRect(0, 0, canvas.width, canvas.height);\n\n            sparksRef.current = sparksRef.current.filter((spark: Spark) => {\n                const elapsed = timestamp - spark.startTime;\n                if (elapsed >= duration) {\n                    // Spark finished its animation\n                    return false;\n                }\n\n                const progress = elapsed / duration;\n                const eased = easeFunc(progress);\n\n                const distance = eased * sparkRadius * extraScale;\n                const lineLength = sparkSize * (1 - eased);\n\n                // Points for the spark line\n                const x1 = spark.x + distance * Math.cos(spark.angle);\n                const y1 = spark.y + distance * Math.sin(spark.angle);\n                const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n                const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n\n                // Draw the spark line\n                ctx.strokeStyle = sparkColor;\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.moveTo(x1, y1);\n                ctx.lineTo(x2, y2);\n                ctx.stroke();\n\n                return true;\n            });\n\n            animationId = requestAnimationFrame(draw);\n        };\n\n        animationId = requestAnimationFrame(draw);\n\n        return () => {\n            cancelAnimationFrame(animationId);\n        };\n    }, [sparkColor, sparkSize, sparkRadius, sparkCount, duration, easing, extraScale]);\n\n    const handleClick = (e: React.MouseEvent<HTMLCanvasElement>): void => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const rect = canvas.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n\n        const now = performance.now();\n        const newSparks: Spark[] = Array.from({length: sparkCount}, (_, i) => ({\n            x,\n            y,\n            angle: (2 * Math.PI * i) / sparkCount,\n            startTime: now,\n        }));\n\n        sparksRef.current.push(...newSparks);\n    };\n\n    return (\n        <canvas\n            ref={canvasRef}\n            style={{\n                width: \"100%\",\n                height: \"100%\",\n                display: \"block\",\n                userSelect: \"none\"\n            }}\n            onClick={handleClick}\n        />\n    );\n};\n\nexport default ClickSpark;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}